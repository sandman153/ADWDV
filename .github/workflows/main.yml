# .github/workflows/sql-deploy.yml
name: sql-deploy
on:
  push:
    branches: [ master, release/*, feature/* ]
    paths-ignore:
      - 'README.md'
  pull_requests:
    branches: [ master ]

#Workflow Steps
jobs:
  # Build the database project first
  build:
  #the type of runner that the job will run on
    runs-on: ubuntu-latest
    steps:
    # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it
    -uses: actions/checkout@v1
      with:   
    
    - uses: actions/checkout@v1
    - uses: azure/login@v1
      with:
        creds: ${{ secrets.AZURE_CREDENTIALS }}
    - uses: azure/sql-action@v1
      with:
        server-name: ${{ secrets.SERVER_NAME }}
        connection-string: ${{â€¯secrets.CONNECTION_STRING }}
        dacpac-package: './Database.dacpac'
